/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
!function(){const e=document.location.search.match(/\bid=([\w-]+)/)[1],a=/platform=electron/.test(document.location.search),r=new class{constructor(){this.handlers=new Map,window.addEventListener("message",e=>{if(e.data&&("onmessage"===e.data.command||"do-update-state"===e.data.command))return void this.postMessage(e.data.command,e.data.data);const a=e.data.channel,r=this.handlers.get(a);r?r(e,e.data.args):console.log("no handler for ",e)})}postMessage(a,r){window.parent.postMessage({target:e,channel:a,data:r},"*")}onMessage(e,a){this.handlers.set(e,a)}},s=new Promise(async e=>{if(a)return e();if(!function(){try{return!!navigator.serviceWorker}catch(e){return!1}}())return console.log("Service Workers are not enabled. Webviews will not work properly"),e();navigator.serviceWorker.register("service-worker.js").then(async a=>{await navigator.serviceWorker.ready;const r=s=>{if("version"===s.data.channel)return navigator.serviceWorker.removeEventListener("message",r),
1===s.data.version?e():a.update().then(()=>navigator.serviceWorker.ready).finally(e)};navigator.serviceWorker.addEventListener("message",r),a.active.postMessage({channel:"version"})});const s=e=>{r.onMessage(e,a=>{navigator.serviceWorker.ready.then(r=>{r.active.postMessage({channel:e,data:a.data.args})})})};s("did-load-resource"),s("did-load-localhost"),navigator.serviceWorker.addEventListener("message",e=>{["load-resource","load-localhost"].includes(e.data.channel)&&r.postMessage(e.data.channel,e.data)})});const o={postMessage:r.postMessage.bind(r),onMessage:r.onMessage.bind(r),ready:s,fakeLoad:!a,rewriteCSP:a?e=>e.replace(/vscode-resource:(?=(\s|;|$))/g,"vscode-webview-resource:"):(e,a)=>{const r=new URL(a);return e.replace(/(vscode-webview-resource|vscode-resource):(?=(\s|;|$))/g,r.origin)}};window.createWebviewManager(o)}();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/17299e413d5590b14ab0340ea477cdd86ff13daf/core/vs/workbench/contrib/webview/browser/pre/host.js.map
